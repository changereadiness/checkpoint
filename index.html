<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Change Readiness Checkpoint</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f7f7f7;
      color: #111;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 720px;
      margin: 40px auto;
      background: #fff;
      padding: 32px;
      border-radius: 8px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    }

    h1 {
      font-size: 28px;
      margin-bottom: 8px;
    }

    p {
      line-height: 1.6;
    }

    .muted {
      color: #555;
      font-size: 14px;
    }

    .question {
      margin: 24px 0;
    }

    .question label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .question select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
    }

    button {
      padding: 12px 18px;
      font-size: 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
    }

    .primary {
      background: #111;
      color: #fff;
    }

    .secondary {
      background: #e5e5e5;
      color: #111;
    }

    .actions {
      margin-top: 32px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .hidden {
      display: none;
    }

    input[type="email"] {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      margin-top: 12px;
      margin-bottom: 12px;
    }

    .divider {
      margin: 32px 0;
      border-top: 1px solid #ddd;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- INTRO -->
    <div id="intro">
      <h1>Change Readiness Checkpoint</h1>
      <p>
        A fast, signal-based assessment to surface early risks before change initiatives fail.
      </p>
      <p class="muted">⏱️ Takes ~1 minute</p>
      <button class="primary" onclick="startAssessment()">Start checkpoint</button>
    </div>

    <!-- QUESTIONS -->
    <div id="assessment" class="hidden">

      <div id="questions"></div>

      <div class="actions" id="continueActions">
        <button class="primary" onclick="showResults()">Get my results</button>
      </div>

      <div class="actions hidden" id="deeperActions">
        <button class="primary" onclick="showResults()">Get my results now</button>
        <button class="secondary" onclick="revealMore()">Answer 5 more questions (~2 min)</button>
      </div>

    </div>

    <!-- RESULTS -->
    <div id="results" class="hidden">
      <h1>Your checkpoint results</h1>
      <p id="resultMessage"></p>

      <div class="divider"></div>

      <h3>Want to go further?</h3>
      <p>
        Leave your email and I’ll review your responses and follow up if there’s value in going deeper.
      </p>

      <input type="email" placeholder="Your email address" />
      <button class="primary">Submit</button>

      <div class="actions">
        <button class="secondary" onclick="resetAssessment()">Retake assessment</button>
      </div>
    </div>

  </div>

<script>
  const baseQuestions = [
    "Is there a single accountable owner for this change?",
    "Is the purpose of the change clearly articulated?",
    "Are key stakeholders aligned on the objective?",
    "Does leadership actively support the initiative?",
    "Are roles and decision rights clear?"
  ];

  const extraQuestions = [
    "Are risks being openly discussed today?",
    "Is there a clear success definition?",
    "Do teams understand what will change for them?",
    "Are resources realistically allocated?",
    "Is feedback actively incorporated?"
  ];

  let currentQuestions = [];
  let answeredCount = 0;

  function startAssessment() {
    document.getElementById("intro").classList.add("hidden");
    document.getElementById("assessment").classList.remove("hidden");
    loadQuestions(baseQuestions);
    document.getElementById("deeperActions").classList.remove("hidden");
  }

  function loadQuestions(questions) {
    const container = document.getElementById("questions");
    questions.forEach(q => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `
        <label>${q}</label>
        <select>
          <option value="">Select…</option>
          <option>Yes</option>
          <option>Somewhat</option>
          <option>No</option>
        </select>
      `;
      container.appendChild(div);
    });
    currentQuestions = currentQuestions.concat(questions);
  }

  function revealMore() {
    loadQuestions(extraQuestions);
    document.getElementById("deeperActions").classList.add("hidden");
  }

  function showResults() {
    document.getElementById("assessment").classList.add("hidden");
    document.getElementById("results").classList.remove("hidden");

    // Placeholder logic
    const message = Math.random() > 0.5
      ? "Your responses suggest early risk signals that are worth examining more closely."
      : "Your responses indicate a generally healthy starting position, with a few areas worth double-checking.";

    document.getElementById("resultMessage").innerText = message;
  }

  function resetAssessment() {
    location.reload();
  }
</script>

</body>
</html>
